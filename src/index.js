var data = [{
	"id": "1001",
	"parent": "#",
	"text": "系统",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "10010001",
	"parent": "1001",
	"text": "用户信息",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100010001",
	"parent": "10010001",
	"text": "机构查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100010002",
	"parent": "10010001",
	"text": "机构导入",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100010003",
	"parent": "10010001",
	"text": "机构新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100010004",
	"parent": "10010001",
	"text": "机构修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100010005",
	"parent": "10010001",
	"text": "机构删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100010006",
	"parent": "10010001",
	"text": "用户查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100010007",
	"parent": "10010001",
	"text": "用户新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100010008",
	"parent": "10010001",
	"text": "用户修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100010009",
	"parent": "10010001",
	"text": "用户删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100010010",
	"parent": "10010001",
	"text": "密码重置",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "10010002",
	"parent": "1001",
	"text": "角色信息",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100020001",
	"parent": "10010002",
	"text": "角色查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100020002",
	"parent": "10010002",
	"text": "角色新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100020003",
	"parent": "10010002",
	"text": "角色修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100020004",
	"parent": "10010002",
	"text": "角色删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100020005",
	"parent": "10010002",
	"text": "权限查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100020006",
	"parent": "10010002",
	"text": "权限新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100020007",
	"parent": "10010002",
	"text": "权限修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100100020008",
	"parent": "10010002",
	"text": "权限删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "1002",
	"parent": "#",
	"text": "终端",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "10020001",
	"parent": "1002",
	"text": "厂商型号",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200010001",
	"parent": "10020001",
	"text": "厂商查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200010002",
	"parent": "10020001",
	"text": "厂商新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200010003",
	"parent": "10020001",
	"text": "厂商修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200010004",
	"parent": "10020001",
	"text": "厂商删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200010005",
	"parent": "10020001",
	"text": "型号查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200010006",
	"parent": "10020001",
	"text": "型号新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200010007",
	"parent": "10020001",
	"text": "型号修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200010008",
	"parent": "10020001",
	"text": "型号删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "10020002",
	"parent": "1002",
	"text": "终端信息",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200020001",
	"parent": "10020002",
	"text": "终端查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200020002",
	"parent": "10020002",
	"text": "终端新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200020003",
	"parent": "10020002",
	"text": "终端修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200020004",
	"parent": "10020002",
	"text": "终端删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200020005",
	"parent": "10020002",
	"text": "终端导入",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200020006",
	"parent": "10020002",
	"text": "终端导出",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100200020007",
	"parent": "10020002",
	"text": "任务查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "1003",
	"parent": "#",
	"text": "资源",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "10030001",
	"parent": "1003",
	"text": "应用管理",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300010001",
	"parent": "10030001",
	"text": "应用查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300010002",
	"parent": "10030001",
	"text": "应用新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300010003",
	"parent": "10030001",
	"text": "应用修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300010004",
	"parent": "10030001",
	"text": "应用删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300010005",
	"parent": "10030001",
	"text": "版本查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300010006",
	"parent": "10030001",
	"text": "版本新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300010007",
	"parent": "10030001",
	"text": "版本修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300010008",
	"parent": "10030001",
	"text": "版本删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300010009",
	"parent": "10030001",
	"text": "文件管理",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "10030002",
	"parent": "1003",
	"text": "参数管理",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300020001",
	"parent": "10030002",
	"text": "参数查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300020002",
	"parent": "10030002",
	"text": "参数新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300020003",
	"parent": "10030002",
	"text": "参数修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300020004",
	"parent": "10030002",
	"text": "参数删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300020005",
	"parent": "10030002",
	"text": "模版查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300020006",
	"parent": "10030002",
	"text": "模版新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300020007",
	"parent": "10030002",
	"text": "模版修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100300020008",
	"parent": "10030002",
	"text": "模版删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "1004",
	"parent": "#",
	"text": "任务",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "10040001",
	"parent": "1004",
	"text": "任务管理",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100400010001",
	"parent": "10040001",
	"text": "任务查询",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100400010002",
	"parent": "10040001",
	"text": "任务新增",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100400010003",
	"parent": "10040001",
	"text": "任务修改",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100400010004",
	"parent": "10040001",
	"text": "任务删除",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100400010005",
	"parent": "10040001",
	"text": "任务终止",
	"icon": null,
	"data": null,
	"state": null
}, {
	"id": "100400010006",
	"parent": "10040001",
	"text": "任务恢复",
	"icon": null,
	"data": null,
	"state": null
}];
var data2 = [{
	"id": "0001",
	"title": "总公司(10000411)",
	"selected": false,
	"loading": false,
	"data": {
		"ageId": "0001",
		"ageNO": "10000411",
		"ageFid": "",
		"ageOper": 1,
		"ageName": "总公司",
		"ageDate": "2018/08/07 10:33:30"
	},
	"expand": false,
	"children": [],
	"checked": false
}, {
	"id": "0002",
	"title": "翔融支付(1804260001)",
	"selected": false,
	"data": {
		"ageId": "0002",
		"ageNO": "1804260001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "翔融支付",
		"ageDate": "2018/04/26 15:24:14"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0003",
	"title": "钱包金服(1804270001)",
	"selected": false,
	"loading": false,
	"data": {
		"ageId": "0003",
		"ageNO": "1804270001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "钱包金服",
		"ageDate": "2018/04/27 09:45:19"
	},
	"expand": false,
	"children": [],
	"checked": false
}, {
	"id": "0004",
	"title": "口袋零钱(1805030001)",
	"selected": false,
	"data": {
		"ageId": "0004",
		"ageNO": "1805030001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "口袋零钱",
		"ageDate": "2018/05/03 10:54:35"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0005",
	"title": "和融通(1804250001)",
	"selected": false,
	"data": {
		"ageId": "0005",
		"ageNO": "1804250001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "和融通",
		"ageDate": "2018/04/25 11:09:08"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0006",
	"title": "杯子金服(1805080001)",
	"selected": false,
	"data": {
		"ageId": "0006",
		"ageNO": "1805080001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "杯子金服",
		"ageDate": "2018/05/08 16:31:41"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0007",
	"title": "福建超汇(1805180001)",
	"selected": false,
	"loading": false,
	"data": {
		"ageId": "0007",
		"ageNO": "1805180001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "福建超汇",
		"ageDate": "2018/05/18 21:35:03"
	},
	"expand": false,
	"children": [],
	"checked": false
}, {
	"id": "0008",
	"title": "汇联支付(1805210001)",
	"selected": false,
	"data": {
		"ageId": "0008",
		"ageNO": "1805210001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "汇联支付",
		"ageDate": "2018/05/21 14:24:31"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0009",
	"title": "浙江农行-演示(1805250001)",
	"selected": false,
	"loading": false,
	"data": {
		"ageId": "0009",
		"ageNO": "1805250001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "浙江农行-演示",
		"ageDate": "2018/06/05 15:07:07"
	},
	"expand": false,
	"children": [],
	"checked": false
}, {
	"id": "0010",
	"title": "点芯支付(1806050001)",
	"selected": false,
	"data": {
		"ageId": "0010",
		"ageNO": "1806050001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "点芯支付",
		"ageDate": "2018/06/05 10:03:44"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0011",
	"title": "福建创识科技(1806050002)",
	"selected": false,
	"loading": false,
	"data": {
		"ageId": "0011",
		"ageNO": "1806050002",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "福建创识科技",
		"ageDate": "2018/06/05 15:52:06"
	},
	"expand": false,
	"children": [],
	"checked": false
}, {
	"id": "0012",
	"title": "东莞通莞(10000410)",
	"selected": false,
	"data": {
		"ageId": "0012",
		"ageNO": "10000410",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "东莞通莞",
		"ageDate": "2018/06/06 10:13:44"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0014",
	"title": "新疆银行(1806110002)",
	"selected": false,
	"data": {
		"ageId": "0014",
		"ageNO": "1806110002",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "新疆银行",
		"ageDate": "2018/06/11 21:17:39"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0015",
	"title": "湖北索拓创想科技(1806290001)",
	"selected": false,
	"loading": false,
	"data": {
		"ageId": "0015",
		"ageNO": "1806290001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "湖北索拓创想科技",
		"ageDate": "2018/06/30 13:48:21"
	},
	"expand": false,
	"children": [],
	"checked": false
}, {
	"id": "0016",
	"title": "福建省农行(1807180001)",
	"selected": false,
	"data": {
		"ageId": "0016",
		"ageNO": "1807180001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "福建省农行",
		"ageDate": "2018/07/18 11:03:53"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0017",
	"title": "中信银行总行(1807180002)",
	"selected": false,
	"loading": false,
	"data": {
		"ageId": "0017",
		"ageNO": "1807180002",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "中信银行总行",
		"ageDate": "2018/07/18 15:51:32"
	},
	"expand": false,
	"children": [],
	"checked": false
}, {
	"id": "0018",
	"title": "兴业银行股份有限公司(1807190001)",
	"selected": false,
	"data": {
		"ageId": "0018",
		"ageNO": "1807190001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "兴业银行股份有限公司",
		"ageDate": "2018/07/19 10:23:16"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0019",
	"title": "快钱支付清算信息有限公司(1807250001)",
	"selected": false,
	"data": {
		"ageId": "0019",
		"ageNO": "1807250001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "快钱支付清算信息有限公司",
		"ageDate": "2018/07/25 10:27:06"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0020",
	"title": "上海平安付商务信息咨询有限公司(1807310001)",
	"selected": false,
	"data": {
		"ageId": "0020",
		"ageNO": "1807310001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "上海平安付商务信息咨询有限公司",
		"ageDate": "2018/07/31 13:39:01"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0021",
	"title": "出厂预装机构(1808060001)",
	"selected": false,
	"data": {
		"ageId": "0021",
		"ageNO": "1808060001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "出厂预装机构",
		"ageDate": "2018/08/06 14:39:59"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0022",
	"title": "开店宝支付服务有限公司(1808080001)",
	"selected": false,
	"data": {
		"ageId": "0022",
		"ageNO": "1808080001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "开店宝支付服务有限公司",
		"ageDate": "2018/08/08 20:10:28"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0023",
	"title": "中国建设银行股份有限公司(1808090001)",
	"selected": false,
	"data": {
		"ageId": "0023",
		"ageNO": "1808090001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "中国建设银行股份有限公司",
		"ageDate": "2018/08/09 14:16:59"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0024",
	"title": "哆啦宝（北京）科技有限公司(1808090003)",
	"selected": false,
	"data": {
		"ageId": "0024",
		"ageNO": "1808090003",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "哆啦宝（北京）科技有限公司",
		"ageDate": "2018/08/09 16:46:24"
	},
	"expand": false,
	"checked": false
}, {
	"id": "0025",
	"title": "联动优势科技有限公司(1808130001)",
	"selected": false,
	"data": {
		"ageId": "0025",
		"ageNO": "1808130001",
		"ageFid": "",
		"ageOper": 0,
		"ageName": "联动优势科技有限公司",
		"ageDate": "2018/08/13 15:24:33"
	},
	"expand": false,
	"checked": false
}];
var tree = simTree({
    el: '#tree',
    data: data,
	//check: true,
	onClick: function (item) {
		console.log(item)
	}
});

var tree2 = simTree({
	el: '#tree2',
	check: true,
    data: function(node, cb) {
		$.get('api/getTreeList').then(function (res) {
			//cb(res.data);
		});
		cb(data)
	},
	onClick: function (item) {
		console.log('click1')
	},
	done: function(data) {
		// this.off('click');
		console.log(data);
		this.setSelected(['1003', '100300020007']);
	}
});
tree2.on('click', function(item) {
	console.log('click2');
});
tree2.on('done', function(item) {
	console.log('done2');
	console.log(this.getSelected());
});

$('#tree2-ser-submit').on('click', function() {
	var val = $('#tree2-ser-int').val();
	console.log(tree2)
	tree2.search(val);
});
// var tree3 = simTree({
// 	el: '#tree3',
// 	check: true,
// 	childNodeAsy: true,
// 	response: {
// 		name: 'title'
// 	},
//     data: function(node, cb) {
// 		console.log(node);
// 		cb(data2);
// 	},
// 	//check: true,
// 	onClick: function (item) {
// 		console.log(item)
// 	}
// });